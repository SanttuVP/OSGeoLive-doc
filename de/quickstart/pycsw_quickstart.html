
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="de">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pycsw Quickstart &#8212; OSGeoLive 13.0 Documentation</title>
    <link rel="stylesheet" href="../../_static/overview.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '13.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="PyWPS Quickstart" href="pywps_quickstart.html" />
    <link rel="prev" title="Proj.4 Quickstart" href="proj4_quickstart.html" />
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>


  </head>
  <body>

        
        
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    </div> 
        


    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a>
		</div>
	</font>
    </div>



    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="http://pycsw.org/"><img alt="../../_images/logo_pycsw.png" class="align-right" src="../../_images/logo_pycsw.png" /></a>
<a class="reference external image-reference" href="target:http://www.osgeo.org"><img alt="../../_images/OSGeo_project.png" class="align-right" src="../../_images/OSGeo_project.png" /></a>
<div class="section" id="pycsw-quickstart">
<h1><a class="toc-backref" href="#id2">pycsw Quickstart</a><a class="headerlink" href="#pycsw-quickstart" title="Link zu dieser Überschrift">¶</a></h1>
<p>pycsw is an OGC CSW server implementation written in <a class="reference external" href="https://python.org">Python</a>. pycsw allows for the publishing and discovery of geospatial metadata.  Existing repositories of geospatial metadata can be exposed via OGC:CSW 2.0.2 or OGC:CSW 3.0.0.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#pycsw-quickstart" id="id2">pycsw Quickstart</a><ul>
<li><a class="reference internal" href="#running-the-tester-application" id="id3">Nutzung der Test-Anwendung</a></li>
<li><a class="reference internal" href="#capabilities-document-and-configuration" id="id4">Capabilities-Dokument und Konfiguration</a></li>
<li><a class="reference internal" href="#metadata-creation" id="id5">Erzeugen von Metadaten</a></li>
<li><a class="reference internal" href="#loading-metadata" id="id6">Metadaten laden</a><ul>
<li><a class="reference internal" href="#metadata-repository-setup" id="id7">Metadaten-Repository</a></li>
<li><a class="reference internal" href="#create-new-database" id="id8">Erzeugen einer neuen Datenbank</a></li>
<li><a class="reference internal" href="#importing-metadata" id="id9">Import von Metadaten</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-discovery-through-qgis-metasearch-plugin" id="id10">Daten entdecken über das QGIS MetaSearch-Plugin</a></li>
<li><a class="reference internal" href="#things-to-try" id="id11">Was Sie noch ausprobieren können</a></li>
<li><a class="reference internal" href="#what-next" id="id12">Was kommt als Nächstes?</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="running-the-tester-application">
<h2><a class="toc-backref" href="#id3">Nutzung der Test-Anwendung</a><a class="headerlink" href="#running-the-tester-application" title="Link zu dieser Überschrift">¶</a></h2>
<p>Zum Aufruf der  pycsw-Test-Anwendung gehen Sie über den Menüeintrag pycsw unter Web Services oder öffnen Sie die Seite <code class="docutils literal"><span class="pre">http://localhost/pycsw/tests/index.html</span></code> mit Firefox:</p>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_startup.png"><img alt="../../_images/pycsw_tester_startup.png" src="../../_images/pycsw_tester_startup.png" style="width: 481.5px; height: 378.0px;" /></a>
<p>Über die linke Auswahlbox stehen mehrere vordefinierte POST-Requests als XML zur Verfügung. Diese können an pycsw geschickt werden:</p>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_selection.png"><img alt="../../_images/pycsw_tester_selection.png" src="../../_images/pycsw_tester_selection.png" style="width: 748.5px; height: 408.0px;" /></a>
<p>So erscheint beispielsweise durch die Auswahl von  „apiso/DescribeRecord“ und durch Absenden über den „Send“-Button eine Beschreibung des ISO Application Profile Datensatzes im rechten Bereich:</p>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_describe_apiso_record.png"><img alt="../../_images/pycsw_tester_describe_apiso_record.png" src="../../_images/pycsw_tester_describe_apiso_record.png" style="width: 746.25px; height: 408.75px;" /></a>
<p>Über die Auswahl von „GetCapabilities-SOAP“ und durch Absenden über den „Send“-Button wird ein SOAP-Request an den Server geschickt zur Veröffentlichung von deren Web Service Capabilities:</p>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_soap_capabillities.png"><img alt="../../_images/pycsw_tester_soap_capabillities.png" src="../../_images/pycsw_tester_soap_capabillities.png" style="width: 746.25px; height: 408.0px;" /></a>
<p>Der Anwender kann außderm nach Datensätzen suchen. Dabei kann eine räumlicher Filter über eine Boundingbox definiert werden, indem „GetRecords-filter-bbox“ ausgewählt wird und die Koordinaten im XML-Request angepasst werden:</p>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_getrecords_bbox_filter.png"><img alt="../../_images/pycsw_tester_getrecords_bbox_filter.png" src="../../_images/pycsw_tester_getrecords_bbox_filter.png" style="width: 749.25px; height: 399.0px;" /></a>
<p>Der Anwender kann die zahlreichen verfügbaren Anfragen ausprobieren.</p>
</div>
<div class="section" id="capabilities-document-and-configuration">
<h2><a class="toc-backref" href="#id4">Capabilities-Dokument und Konfiguration</a><a class="headerlink" href="#capabilities-document-and-configuration" title="Link zu dieser Überschrift">¶</a></h2>
<p>Das Capabilities der pycsw-Installation findet sich unter  <code class="docutils literal"><span class="pre">http://localhost/pycsw?service=CSW&amp;version=2.0.2&amp;request=GetCapabilities</span></code>. Wenn Sie lediglich <code class="docutils literal"><span class="pre">http://localhost/pycsw</span></code> aufrufen, erhalten Sie das Capabilities-Dokument für CSW 3.0.0, da dies die aktuellste unterstützte Version ist.</p>
<p>Um Web Service Metadaten zu bearbeiten, die Teil des Capabilities Dokuments sind, kann der Anwender die Datei <code class="docutils literal"><span class="pre">/etc/pycsw/default.cfg</span></code> unter dem Tag <code class="docutils literal"><span class="pre">[metadata:main]</span></code> bearbeiten.</p>
<p>Wenn der Anwender INSPIRE Discovery Service Unterstützung aktivieren möchte, müssen die Metadaten unter dem Tag <code class="docutils literal"><span class="pre">[metadata:inspire]</span></code> gefüllt werden und der <code class="docutils literal"><span class="pre">enabled</span></code> Eintrag muss aktiviert werden.</p>
<p>Zur Information über die volle Funktionalität und Konfigurationsmöglichkeiten, schauen Sie bitte in die <a class="reference external" href="https://pycsw.org/docs/">Dokumentation</a> auf der pycsw-Webseite.</p>
</div>
<div class="section" id="metadata-creation">
<h2><a class="toc-backref" href="#id5">Erzeugen von Metadaten</a><a class="headerlink" href="#metadata-creation" title="Link zu dieser Überschrift">¶</a></h2>
<p>Metadaten-Dateien für einen räumlichen Datensatz oder einen räumlichen  Web Service können über die Open Source Implementation der Inspire Directive for Metadata, European Open Source Metadata Editor (EUOSME) erzeugt werden. Die Anwendung ist erreichbar unter <code class="docutils literal"><span class="pre">http://inspire-geoportal.ec.europa.eu/editor/</span></code>. Der Quellcode findet sich unter: <code class="docutils literal"><span class="pre">https://joinup.ec.europa.eu/svn/euosme/trunk</span></code></p>
<p>Der Anwender füllt die Metadaten-Pflichtfelder über die Anwendungsreiter und fügt Informationen wie den Namen des Dateneigentümers, Schlüsselworte, Quelle im Web, räumliche Lage  (über eine BoundingBox oder den Ländernamen) etc. hinzu.</p>
<a class="reference internal image-reference" href="../../_images/pycsw_euosme_metadata_input.png"><img alt="../../_images/pycsw_euosme_metadata_input.png" src="../../_images/pycsw_euosme_metadata_input.png" style="width: 831.75px; height: 485.25px;" /></a>
<p>After the user has added all the information available, they must push the validation button on top of the page, so that a check is performed for consistency with the INSPIRE directive.</p>
<a class="reference internal image-reference" href="../../_images/pycsw_euosme_save_metadata.png"><img alt="../../_images/pycsw_euosme_save_metadata.png" src="../../_images/pycsw_euosme_save_metadata.png" style="width: 830.25px; height: 485.25px;" /></a>
<p>After a successful validation, the XML file can be saved to the local disk and viewed through a text editor or a browser.</p>
</div>
<div class="section" id="loading-metadata">
<h2><a class="toc-backref" href="#id6">Metadaten laden</a><a class="headerlink" href="#loading-metadata" title="Link zu dieser Überschrift">¶</a></h2>
<div class="section" id="metadata-repository-setup">
<h3><a class="toc-backref" href="#id7">Metadaten-Repository</a><a class="headerlink" href="#metadata-repository-setup" title="Link zu dieser Überschrift">¶</a></h3>
<p>pycsw unterstützt die folgenden Datenbanken:</p>
<ul class="simple">
<li>SQLite3</li>
<li>PostgreSQL (PostGIS optional)</li>
<li>MySQL</li>
</ul>
<p>OSGeoLive nutzt eine einfache SQLite-Datenbank. Diese findet sich unter <code class="docutils literal"><span class="pre">/usr/share/pycsw/tests/suites/cite/data/records.db</span></code></p>
</div>
<div class="section" id="create-new-database">
<h3><a class="toc-backref" href="#id8">Erzeugen einer neuen Datenbank</a><a class="headerlink" href="#create-new-database" title="Link zu dieser Überschrift">¶</a></h3>
<p>Um eine neue SQLite-Datenbank zu erzeugen müssen wir:</p>
<ol class="arabic">
<li><p class="first">Die Datei <code class="docutils literal"><span class="pre">/etc/pycsw/default.cfg</span></code> bearbeiten:</p>
<p><strong>[repository]</strong></p>
<ul class="simple">
<li><strong>database</strong>: the full file path to the metadata database, in database URL format (see <a class="reference external" href="https://docs.sqlalchemy.org/en/latest/core/engines.html#database-urls">https://docs.sqlalchemy.org/en/latest/core/engines.html#database-urls</a>)</li>
<li><strong>table</strong>: Name der Tabelle für die Metadaten (Standard ist <code class="docutils literal"><span class="pre">records</span></code>)</li>
</ul>
</li>
<li><p class="first">Erzeugen der Datenbank:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo pycsw-admin -c setup_db -f /etc/pycsw/default.cfg
</pre></div>
</div>
</li>
</ol>
<p>Dies wird die notwendigen Tabellen und Werte für das Repository anlegen.</p>
<p>Die erzeugte Datenbank folgt dem <a class="reference external" href="https://www.opengeospatial.org/standards/sfs">OGC SFSQL</a> Standard und kann mit jeder Software, die diesen Standard unterstützt genutzt werden.  Zum Beispiel mit <a class="reference external" href="https://www.gdal.org/ogr">OGR</a>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ ogrinfo /path/to/records.db
INFO: Open of <span class="s1">&#39;records.db&#39;</span>
using driver <span class="s1">&#39;SQLite&#39;</span> successful.
<span class="m">1</span>: records <span class="o">(</span>Polygon<span class="o">)</span>
$ ogrinfo -al /path/to/records.db
<span class="c1"># lots of output</span>
</pre></div>
</div>
</div>
<div class="section" id="importing-metadata">
<h3><a class="toc-backref" href="#id9">Import von Metadaten</a><a class="headerlink" href="#importing-metadata" title="Link zu dieser Überschrift">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo pycsw-admin -c load_records -f /etc/pycsw/default.cfg -p /path/to/records -r
</pre></div>
</div>
<p>Dies wird alle  <code class="docutils literal"><span class="pre">*.xml</span></code>-Datensätze unter dem Pfad <code class="docutils literal"><span class="pre">/path/to/records</span></code> in die neue Datenbank importieren und konfiguriert das Repository so, dass to expose queryables as per Table 53 of OGC:CSW.</p>
</div>
</div>
<div class="section" id="data-discovery-through-qgis-metasearch-plugin">
<h2><a class="toc-backref" href="#id10">Daten entdecken über das QGIS MetaSearch-Plugin</a><a class="headerlink" href="#data-discovery-through-qgis-metasearch-plugin" title="Link zu dieser Überschrift">¶</a></h2>
<p>Starten Sie QGIS über die Desktop-GIS-Gruppe im Menü und klicken Sie auf den MetaSearch-Button (CSW-Symbol)</p>
<a class="reference internal image-reference" href="../../_images/pycsw_qgis_metasearch_open.png"><img alt="../../_images/pycsw_qgis_metasearch_open.png" src="../../_images/pycsw_qgis_metasearch_open.png" style="width: 501.75px; height: 466.5px;" /></a>
<p>Fügen Sie den pycsw-Server über den „New“-Button hinzu und tragen Sie <code class="docutils literal"><span class="pre">http://localhost/pycsw/</span></code> ein.</p>
<a class="reference internal image-reference" href="../../_images/pycsw_qgis_metasearch_add.png"><img alt="../../_images/pycsw_qgis_metasearch_add.png" src="../../_images/pycsw_qgis_metasearch_add.png" style="width: 489.75px; height: 432.0px;" /></a>
<p>Der Anwender kann einige Standard-Server über den „Add default servers“-Button bestimmen und kann die Capabilities der Server über den „Server info“-Button erhalten.</p>
<a class="reference internal image-reference" href="../../_images/pycsw_qgis_metasearch_server_info.png"><img alt="../../_images/pycsw_qgis_metasearch_server_info.png" src="../../_images/pycsw_qgis_metasearch_server_info.png" style="width: 490.5px; height: 432.0px;" /></a>
<p>Führen Sie Suchen im Katalog entweder über Begriffe oder über die BoundingBox durch</p>
<a class="reference internal image-reference" href="../../_images/pycsw_qgis_metasearch_search.png"><img alt="../../_images/pycsw_qgis_metasearch_search.png" src="../../_images/pycsw_qgis_metasearch_search.png" style="width: 490.5px; height: 434.25px;" /></a>
</div>
<div class="section" id="things-to-try">
<h2><a class="toc-backref" href="#id11">Was Sie noch ausprobieren können</a><a class="headerlink" href="#things-to-try" title="Link zu dieser Überschrift">¶</a></h2>
<ol class="arabic simple">
<li>Entdecken Sie die Daten über die Tester-Anwendung, indem Sie den den entsprechenden Request stellen, d.h. eine Suche mit dem Text „imagery“  ermöglicht das Entdecken der xml-Daten, die vorab über EUOSME erzeugt wurden</li>
</ol>
<a class="reference internal image-reference" href="../../_images/pycsw_tester_discovery.png"><img alt="../../_images/pycsw_tester_discovery.png" src="../../_images/pycsw_tester_discovery.png" style="width: 786.75px; height: 342.0px;" /></a>
<ol class="arabic simple">
<li>Versuchen Sie Daten über das Python <a class="reference external" href="https://geopython.github.io/OWSLib/#csw">OWSLib CSW</a> Interface  zu entdecken.</li>
<li>Versuchen Sie Daten von GeoNode, das ebenfalls auf OSGeoLive vorliegt und das pycsw als den Standard CSW nutzt, zu entdecken..</li>
</ol>
</div>
<div class="section" id="what-next">
<h2><a class="toc-backref" href="#id12">Was kommt als Nächstes?</a><a class="headerlink" href="#what-next" title="Link zu dieser Überschrift">¶</a></h2>
<p>Zur Information über die volle Funktionalität und die Konfigurationsmöglichkeiten, schauen Sie bitte in die <a class="reference external" href="https://pycsw.org/docs/">Dokumentation</a> auf der pycsw-Webseite.</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fi')">Suomen kieli</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('it')">Italiano</a> |   <a href="javascript:defaultRedirect('ja')">日本語</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a>
		</div>
	</font>
    </div>



        
        
<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>
        


  </body>
</html>